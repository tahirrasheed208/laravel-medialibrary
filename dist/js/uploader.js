"use strict";function uploadFile(e){e.parentElement.querySelector("input[type=file]").click()}function changeFile(e){e.closest(".lm-file-upload-box").querySelector("input[type=file]").click()}function chooseFile(e){let t=e.dataset.size;if(e.files[0].size>t)return e.parentElement.querySelector(".lm-size-error-message").classList.remove("d-none"),void(e.value="");readFile(e),e.parentElement.querySelector(".lm-size-error-message").classList.add("d-none"),e.parentElement.querySelector(".lm-upload-button").classList.add("d-none"),e.parentElement.querySelector(".lm-remove-button").classList.remove("d-none"),setRemoveFieldValue(e)}function removeFile(e){e.parentElement.querySelector("input[type=file]").value="",e.parentElement.querySelector(".lm-img-preview").classList.add("d-none"),e.parentElement.querySelector(".lm-file-preview").classList.add("d-none"),e.classList.add("d-none"),e.parentElement.querySelector(".lm-upload-button").classList.remove("d-none"),setRemoveFieldValue(e)}function readFile(e){if(!e.files||0==e.files.length)return;if(!isImage(e.files[0].type)){e.parentElement.querySelector(".lm-img-preview").classList.add("d-none");let t=e.parentElement.querySelector(".lm-file-preview");return t.classList.remove("d-none"),void(t.querySelector("div").innerHTML=`<a href="javascript:;" class="btn-link">${e.files[0].name}</a>`)}const t=new FileReader;t.onload=function(t){let l=e.parentElement.querySelector(".lm-img-preview");l.classList.remove("d-none"),l.querySelector("img").src=t.target.result},t.readAsDataURL(e.files[0])}function setRemoveFieldValue(e){let t=e.parentElement.querySelector("input[type=hidden]");t&&(t.value="yes")}function isImage(e){return["image/jpeg","image/png","image/webp","image/gif"].includes(e)}
